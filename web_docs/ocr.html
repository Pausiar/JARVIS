<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>InteracciÃ³n visual (OCR) â€” J.A.R.V.I.S. Ayuda</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="topbar">
  <button class="hamburger" aria-label="MenÃº">â˜°</button>
  <div class="topbar-brand"><div class="logo"></div><h1>J.A.R.V.I.S.</h1><span>Sistema de Ayuda</span></div>
  <div class="topbar-search">
    <span class="search-icon">ğŸ”</span>
    <input type="text" id="searchInput" placeholder="Buscar en la ayuda..." autocomplete="off">
    <div id="searchResults" class="search-results"></div>
  </div>
  <nav class="topbar-nav"><a href="index.html">ğŸ  Inicio</a><a href="indice.html">ğŸ“‘ Ãndice</a></nav>
</header>

<aside class="sidebar">
  <a href="index.html" class="sidebar-link-direct">ğŸ  Inicio</a>
  <div class="sidebar-section">
    <div class="sidebar-section-title"><span class="arrow">â–¶</span> ğŸ“˜ IntroducciÃ³n</div>
    <ul class="sidebar-links"><li><a href="introduccion.html">Â¿QuÃ© es J.A.R.V.I.S.?</a></li></ul>
  </div>
  <div class="sidebar-section">
    <div class="sidebar-section-title"><span class="arrow">â–¶</span> ğŸš€ Primeros pasos</div>
    <ul class="sidebar-links"><li><a href="instalacion.html">InstalaciÃ³n</a></li><li><a href="interfaz.html">Primera ejecuciÃ³n</a></li></ul>
  </div>
  <div class="sidebar-section">
    <div class="sidebar-section-title open"><span class="arrow">â–¶</span> âš™ï¸ Funciones principales</div>
    <ul class="sidebar-links">
      <li><a href="comandos.html">CatÃ¡logo de comandos</a></li>
      <li><a href="ocr.html" class="current">InteracciÃ³n visual (OCR)</a></li>
    </ul>
  </div>
  <div class="sidebar-section">
    <div class="sidebar-section-title"><span class="arrow">â–¶</span> ğŸ”§ ConfiguraciÃ³n</div>
    <ul class="sidebar-links"><li><a href="configuracion.html">config.py</a></li></ul>
  </div>
  <div class="sidebar-section">
    <div class="sidebar-section-title"><span class="arrow">â–¶</span> âŒ Problemas</div>
    <ul class="sidebar-links"><li><a href="problemas.html#ocr">Problemas con OCR</a></li></ul>
  </div>
  <a href="indice.html" class="sidebar-link-direct">ğŸ“‘ Ãndice alfabÃ©tico</a>
</aside>

<main class="main">

  <div class="breadcrumb">
    <a href="index.html">Inicio</a> <span class="sep">â€º</span>
    <a href="comandos.html">Funciones principales</a> <span class="sep">â€º</span>
    <span class="current-crumb">InteracciÃ³n visual (OCR)</span>
  </div>

  <h1>ğŸ‘ï¸ InteracciÃ³n visual (OCR)</h1>

  <p>J.A.R.V.I.S. puede <strong>ver y leer la pantalla</strong> utilizando el motor OCR nativo de Windows (<code>Windows.Media.Ocr</code>). Esto le permite hacer clic en texto visible, leer contenido de cualquier aplicaciÃ³n e interactuar con la interfaz de forma autÃ³noma.</p>

  <h2 id="clic">Clic por texto en pantalla</h2>

  <p>JARVIS busca el texto que usted indica en la pantalla y hace clic en Ã©l. Utiliza una estrategia escalonada:</p>

  <div class="step">
    <div class="step-number">1</div>
    <div class="step-content">
      <h4>Ctrl+F Highlight</h4>
      <p>Usa Ctrl+F para buscar el texto. Detecta el resaltado naranja del navegador y hace clic en Ã©l. Funciona especialmente bien en Chrome.</p>
    </div>
  </div>

  <div class="step">
    <div class="step-number">2</div>
    <div class="step-content">
      <h4>UI Automation</h4>
      <p>Usa la API de Windows UI Automation para buscar elementos interactivos por nombre. Ideal para botones, menÃºs y controles nativos.</p>
    </div>
  </div>

  <div class="step">
    <div class="step-number">3</div>
    <div class="step-content">
      <h4>OCR (fallback)</h4>
      <p>Captura la pantalla, extrae texto con OCR y calcula las coordenadas del texto buscado para hacer clic.</p>
    </div>
  </div>

  <h3>Ejemplos de uso</h3>
  <table>
    <thead><tr><th>Comando</th><th>QuÃ© hace</th></tr></thead>
    <tbody>
      <tr><td><code>Haz clic donde pone ConfiguraciÃ³n</code></td><td>Busca "ConfiguraciÃ³n" en pantalla y hace clic</td></tr>
      <tr><td><code>Pulsa en el botÃ³n de enviar</code></td><td>Clic inteligente por descripciÃ³n (usa LLM + OCR)</td></tr>
      <tr><td><code>Entra en el primer resultado</code></td><td>Clic en el primer resultado de Google</td></tr>
    </tbody>
  </table>

  <h2 id="doble-clic">Doble clic automÃ¡tico</h2>

  <div class="callout callout-warning">
    <div class="callout-title">âš ï¸ Clic simple vs. doble clic</div>
    <p>En el <strong>Explorador de archivos</strong> y el <strong>escritorio de Windows</strong>, un clic simple solo <em>selecciona</em> el elemento. Para <strong>abrirlo</strong> se necesita <strong>doble clic</strong>.</p>
  </div>

  <p>JARVIS gestiona esto de forma inteligente:</p>
  <ul>
    <li>Si el agente autÃ³nomo planifica un <code>click_on_text</code> y la pantalla <strong>no cambia</strong> (el elemento solo se selecciona), JARVIS <strong>reintenta automÃ¡ticamente con doble clic</strong>.</li>
    <li>El agente IA tambiÃ©n recibe instrucciones para usar <code>double_click</code> directamente cuando el contexto lo requiere (archivos, carpetas, iconos del escritorio).</li>
  </ul>

  <p>Si necesita forzar un doble clic manualmente:</p>
  <pre><code>Haz doble clic en MiArchivo.pdf</code></pre>

  <h2 id="lectura">Lectura de pantalla</h2>

  <p>JARVIS puede leer todo el texto visible en la pantalla:</p>
  <table>
    <thead><tr><th>Comando</th><th>QuÃ© hace</th></tr></thead>
    <tbody>
      <tr><td><code>Â¿QuÃ© hay en la pantalla?</code></td><td>Lee todo el texto visible con OCR</td></tr>
      <tr><td><code>Lee la pantalla</code></td><td>Igual que arriba</td></tr>
    </tbody>
  </table>

  <p>Esta capacidad es la base del <strong>agente autÃ³nomo</strong>: JARVIS lee la pantalla, planifica pasos y ejecuta acciones para completar tareas complejas de forma independiente.</p>

  <h2 id="agente">El agente autÃ³nomo</h2>

  <p>Para tareas complejas que requieren varios pasos, JARVIS activa su <strong>agente autÃ³nomo</strong>, alimentado por IA cloud (<strong>GPT-4o-mini</strong> vÃ­a GitHub Models o <strong>Gemini 2.0 Flash</strong>) que le da la inteligencia para planificar y razonar sobre cada paso:</p>

  <ol>
    <li><strong>Lee la pantalla</strong> (OCR) para entender el contexto actual</li>
    <li><strong>Planifica</strong> una lista de pasos mecÃ¡nicos con la IA cloud (abrir app, hacer clic, escribirâ€¦)</li>
    <li><strong>Ejecuta</strong> cada paso secuencialmente, verificando tras cada acciÃ³n que la pantalla cambiÃ³</li>
    <li>Si algo falla, <strong>replanifica</strong> automÃ¡ticamente con la nueva informaciÃ³n de la pantalla</li>
    <li>Si completa la tarea, <strong>guarda el procedimiento</strong> para ejecutarlo mÃ¡s rÃ¡pido en el futuro</li>
  </ol>

  <h3>Ejemplos reales del agente autÃ³nomo</h3>
  <ul>
    <li>Â«EnvÃ­a un WhatsApp a Alejandro diciendo holaÂ» â†’ abre WhatsApp Web, busca contacto, escribe y envÃ­a</li>
    <li>Â«Mira el ejercicio 2 del PDF y resuÃ©lvelo en WordÂ» â†’ lee el PDF con OCR, razona la soluciÃ³n con IA, cambia a Word y escribe la respuesta</li>
    <li>Â«Entra en Aules FP y sube la actividad del tema 6Â» â†’ navega a Moodle, busca la asignatura, encuentra la entrega y sube el archivo</li>
    <li>Â«Busca en Google cÃ³mo hacer X e instÃ¡laloÂ» â†’ abre Chrome, busca, lee resultados, ejecuta los pasos</li>
  </ul>

  <div class="callout callout-info">
    <div class="callout-title">ğŸ’¡ Aprendizaje de procedimientos</div>
    <p>Si una tarea multi-paso se completa con Ã©xito, JARVIS la <strong>guarda como procedimiento</strong> para ejecutarla mÃ¡s rÃ¡pido la prÃ³xima vez. Solo se guardan procedimientos que superan una validaciÃ³n de coherencia (los pasos deben corresponder al objetivo). Vea <a href="configuracion.html#memoria">Memoria y aprendizaje</a>.</p>
  </div>

  <p>Si el OCR no funciona correctamente, consulte <a href="problemas.html#ocr" class="xref">ğŸ”— ResoluciÃ³n de problemas â†’ OCR / Clic incorrecto</a>.</p>

  <div class="page-nav">
    <a href="comandos.html"><span><span class="nav-label">Anterior</span><span class="nav-title">â† CatÃ¡logo de comandos</span></span></a>
    <a href="configuracion.html"><span><span class="nav-label">Siguiente</span><span class="nav-title">ConfiguraciÃ³n â†’</span></span></a>
  </div>

</main>

<div class="tip-bar">
  <span class="tip-icon">ğŸ’¡</span>
  El OCR funciona con el idioma es-ES de Windows. Verifique que estÃ¡ instalado en ConfiguraciÃ³n â†’ Idioma.
</div>

<script src="script.js"></script>
</body>
</html>
